<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="pandoc">
    <title>Software Carpentry: JavaScript</title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="css/swc.css" />
    <link rel="alternate" type="application/rss+xml" title="Software Carpentry Blog" href="http://software-carpentry.org/feed.xml"/>
    <meta charset="UTF-8" />
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body class="lesson">
    <div class="container card">
      <div class="banner">
      </div>
      <div class="row">
        <div class="col-md-10 col-md-offset-1">
          <h1 class="title">JavaScript</h1>
          <h2 class="subtitle">A quick introduction</h2>
<div id="learning-objectives" class="objectives panel panel-warning">
<div class="panel-heading">
<h2><span class="glyphicon glyphicon-certificate"></span>Learning Objectives</h2>
</div>
<div class="panel-body">
<ul>
<li>Linking to a JavaScript file</li>
<li>Javascript variables</li>
<li>Functions in Javascript</li>
</ul>
</div>
</div>
<p>We've learned how to integrate text and graphical objects into our page. So far, we might as well just create a plot elsewhere and publish it as an image. But wouldn't it be much better, if the user could interact with the data? To do that, we need to learn a little scripting. Javascript is a programming language designed to be used to manipulate html documents. Everything between &lt;script&gt; and &lt;/script&gt; within the body will be interpreted as JavaScript code. Since the code we write in the HTML file is executed sequentially, we need to make sure that whenever we refer to an element on the page, this element already exists. An easy way to ensure this is to include scripts just before the end of the body element. Just like we did with styles, we can outsource our code into a separate file with the extension <code>.js</code>.</p>
<p>First we need to create our <code>main.js</code> file and link to it in the HTML body.</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;main.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></code></pre>
<p>In JavaScript there are two main data types: strings (text, everything in quotes) and numbers. It's important to remember that you can't do math with strings or append numbers together.</p>
<p>For example: <code>5+5 = 10</code> but <code>'5'+'5' = '55'</code></p>
<p>If one of the arguments is a string, the other one gets converted, too: <code>5 + '5' = '55'</code></p>
<div id="debugging-in-a-browser" class="callout panel panel-info">
<div class="panel-heading">
<h2><span class="glyphicon glyphicon-pushpin"></span>Debugging in a browser</h2>
</div>
<div class="panel-body">
<p>If we right click anywhere on our page and select &quot;Inspect Element&quot;, the browser takes us to the developer tools. Here, we have different tabs. The three most important ones are:</p>
<ul>
<li>Console - The console alerts us to things going wrong in out code by showing us an error and telling us in what line the error ocurred. We can also display the values of variables by including <code>colsole.log(x)</code> in our code.</li>
<li>Elements - If we want to know if our HTML elements are all in the right spot, this is where we need to look. Hovering over any part of the page will highlight the according element and we can look at how they are styled and temporarily change attributes.</li>
<li>Sources - Here, we can look at the files that are used by our page. And even better, if we navigate to the JavaScript file, we can add breakpoints that stay in place when we reload the page. This allows us to investigate values of variables on the spot.</li>
</ul>
</div>
</div>
<p>There are two containers in JavaScript: arrays (<code>[]</code>-notation) and objects (<code>{}</code>-notation).</p>
<p>In order to create a container, we have to declare it first using the <code>var</code> keyword that we've already come across.</p>
<pre class="js"><code>var list_of_numbers = [];</code></pre>
<p>creates an array. But so far itâ€™s empty.</p>
<p>We can now add elements to this array but instead let's create it again with some values in it, like this:</p>
<pre class="js"><code>var list_of_numbers = [30, 2, 5];</code></pre>
<p>Let's use the console of the browser to look at the values of object by including some extra code:</p>
<pre class="js"><code>console.log(list_of_numbers);</code></pre>
<p>Or we can just address one field of the vector. Counting begins from zero, so the third field has the index '2'.</p>
<pre class="js"><code>console.log(list_of_numbers[2]);</code></pre>
<p><code>list_of_numbers</code> is a vector that holds 3 numbers. We can also have a variable that contains a string:</p>
<pre class="js"><code>var text = &#39;I love cats.&#39;;</code></pre>
<p>We can address this string by using indices, so <code>console.log(text[2])</code> returns <code>l</code>.</p>
<p>Unlike arrays which allow you to access elements using their indices, JavaScript objects allow you to index elements using names. This lets us create something like this:</p>
<pre class="js"><code>var cat_object = {
    weight : 5,
    past_weight_values : [4.5, 5.1, 4.9],
    name : &#39;Princess Caroline&#39;
};</code></pre>
<div id="creating-new-attributes" class="challenge panel panel-success">
<div class="panel-heading">
<h2><span class="glyphicon glyphicon-pencil"></span>Creating new attributes</h2>
</div>
<div class="panel-body">
<p>You can append the list of attributes using the dot-syntax <code>cat_object.attributename = ...</code>, (<code>attributename</code> is a placeholder). Create a new attribute <code>height</code> and assign a number!</p>
</div>
</div>
<p>Since Javascript is a programming language like any other, it has all of the standard features like loops, conditionals, and functions. Because of the way D3 works, we're not actually going to need loops today. Functions, however, are going to be super important. D3 uses functions everywhere. Frequently, we'll be passing functions as arguments to other functions. So let's go over the syntax for functions in Javascript:</p>
<pre class="js"><code>var my_function = function(my_argument){
            console.log(my_argument);
            }
my_function(&quot;hi&quot;)</code></pre>
<p>Notice that the function is just another variable. The name that we'll use to call it is whatever name we gave to the variable. Javascript only knows that it's a function because we used the <code>function</code> keyword. We specified the arguments that this function takes by listing them in the parentheses after <code>function</code>. The body of the function - the code that gets executed when it's called - is everything between the open and close curly braces. This is a pretty boring function - it takes an argument and prints it to the console. Let's make a function that actually returns a result:</p>
<pre class="js"><code>var add = function(number1, number2){
           //This function takes two numbers and returns their sum
               return(number1 + number2);
        } 
add(1,2)</code></pre>
<pre class="out"><code>3</code></pre>
<p>Since Javascript doesn't force you to pre-define the type of any variable, we're just trusting whoever uses this function to pass it two variables that make sense to add. That's why it's really useful to include comments indicating what your code does (use <code>//</code> to indicate that a line is a comment).</p>
<p>Javascript has a lot of handy built-in functions for manipulating websites. We're not going to talk about them here, since d3.js provides a lot of similar functions that are more specialized for dealing with data, which is our purpose here. But if you're ever trying to build a website or something, you should definitely give them a look!</p>
<div id="write-your-own-function" class="challenge panel panel-success">
<div class="panel-heading">
<h2><span class="glyphicon glyphicon-pencil"></span>Write your own function</h2>
</div>
<div class="panel-body">
<p>Write a function that takes a Javascript object, <code>person</code>, as an argument. Assume <code>person</code> has a <code>name</code> attribute and an age` attribute. Make the function log the person's name and age to the console:</p>
<pre class="js"><code>var person = {name:&quot;Ginny&quot;, age:20};
logNameAndAge(person);</code></pre>
<pre class="out"><code>&quot;Ginny is 20 years old&quot;</code></pre>
</div>
</div>
        </div>
      </div>
      <div class="footer">
        <a class="label swc-blue-bg" href="https://github.com/emilydolson/D3-visualising-data">Source</a>
        <a class="label swc-blue-bg" href="LICENSE.html">License</a>
      </div>
    </div>
    <!-- Javascript placed at the end of the document so the pages load faster -->
    <script src="http://software-carpentry.org/v5/js/jquery-1.9.1.min.js"></script>
    <script src="css/bootstrap/bootstrap-js/bootstrap.js"></script>
  </body>
</html>
